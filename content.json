{"meta":{"title":"Hexo","subtitle":null,"description":null,"author":"John Doe","url":"http://grooes.com"},"pages":[{"title":"link","date":"2017-09-17T03:38:42.000Z","updated":"2017-09-17T03:39:33.549Z","comments":true,"path":"link/index.html","link":[{"name":"����������","info":"���������꣬����һ����·��","url":"http://yuyinghua.com/","avatar":"http://yuyinghua.com/icon.png"}],"permalink":"http://grooes.com/link/index.html","excerpt":"","text":""},{"title":"categories","date":"2017-09-17T02:02:50.000Z","updated":"2017-09-17T02:03:03.349Z","comments":false,"path":"categories/index.html","permalink":"http://grooes.com/categories/index.html","excerpt":"","text":""},{"title":"tag","date":"2017-09-17T02:01:14.000Z","updated":"2017-09-17T02:02:01.109Z","comments":false,"path":"tag/index.html","permalink":"http://grooes.com/tag/index.html","excerpt":"","text":""},{"title":"search","date":"2017-09-17T03:54:42.718Z","updated":"2017-09-17T03:54:42.718Z","comments":false,"path":"search/index.html","permalink":"http://grooes.com/search/index.html","excerpt":"","text":""}],"posts":[{"title":"PHP7环境搭建那点事儿","slug":"PHP7环境搭建那点事儿","date":"2017-09-17T01:30:09.000Z","updated":"2017-09-17T02:16:26.950Z","comments":true,"path":"2017/09/17/PHP7环境搭建那点事儿/","link":"","permalink":"http://grooes.com/2017/09/17/PHP7环境搭建那点事儿/","excerpt":"","text":"安装包准备 nginx-1.11.6.tar.gz google-perftools-1.6.tar.gz libevent-2.0.22-stable.tar.gz libiconv-1.13.1.tar.gz libmcrypt-2.5.8.tar.gz libmemcached-1.0.18.tar.gz m9php-php7.tar.gz mcrypt-2.6.8.tar.gz memcache-3.0.8.tgz memcached-1.4.34.tar.gz mhash-0.9.9.9.tar.gz pecl-memcache-php7.tar.gz php-7.0.14.tar.gz php-memcached-master.tar.gz phpredis-develop.tar.gz protobuf-master.tar.gz 环境准备 yum -y install lrzsz（为了运用rz命令把本地包上次上去） yum -y install wget(为了下载包) yum -y install zip unzip(为了解压包) yum -y install gcc(安装gcc) yum -y install openssl openssl-devel(安装openssl) yum -y install pcre*(安装pcre) yum -y install gcc gcc-c++(安装c++) yum -y install libxml2(安装相关libxml2) yum -y install curl(安装curl相关) yum -y install curl-devel(安装curl-devel) yum -y install libpng*(安装libpng相关) 相关环境搭建 安装nginx tar zxf nginx-1.11.6.tar.gzcd nginx-1.11.6./configure –prefix=/usr/local/nginx –user=www –group=www –with-http_stub_status_module –with-http_flv_module –with-http_ssl_modulemake &amp;&amp; make install 启动nginx /usr/local/nginx/sbin/nginx报错：nginx: [emerg] getpwnam(“www”) failed解决方式1：在nginx.conf中 把user nobody的注释去掉既可解决方式2：/usr/sbin/groupadd -f www /usr/sbin/useradd -g www www 本机浏览器输入：http://ip/成功标识：Welcome to nginx!失败标识：考虑关闭防火墙或者打开80端口即可 安装libiconv tar zxf libiconv-1.13.1.tar.gzcd libiconv-1.13.1/./configure –prefix=/usr/local/libiconvmake &amp;&amp; make install 安装libevent tar zxvf libevent-2.0.22-stable.tar.gz cd libevent-2.0.22-stable./configure –prefix=/usr/local/libeventmake &amp;&amp; make test &amp;&amp; make install 安装libmcrypt tar zxf libmcrypt-2.5.8.tar.gzcd libmcrypt-2.5.8/./configuremake &amp;&amp; make install 安装mhash tar zxf mhash-0.9.9.9.tar.gzcd mhash-0.9.9.9./configuremake &amp;&amp; make install 开启软连接 ln -s /usr/local/lib/libmcrypt.la /usr/lib/libmcrypt.laln -s /usr/local/lib/libmcrypt.so /usr/lib/libmcrypt.soln -s /usr/local/lib/libmcrypt.so.4 /usr/lib/libmcrypt.so.4ln -s /usr/local/lib/libmcrypt.so.4.4.8 /usr/lib/libmcrypt.so.4.4.8ln -s /usr/local/lib/libmhash.a /usr/lib/libmhash.aln -s /usr/local/lib/libmhash.la /usr/lib/libmhash.laln -s /usr/local/lib/libmhash.so /usr/lib/libmhash.soln -s /usr/local/lib/libmhash.so.2 /usr/lib/libmhash.so.2ln -s /usr/local/lib/libmhash.so.2.0.1 /usr/lib/libmhash.so.2.0.1ln -s /usr/local/bin/libmcrypt-config /usr/bin/libmcrypt-config 安装memcached tar -zxvf memcached-1.4.34.tar.gzcd memcached-1.4.34./configure –prefix=/usr/local/memcached –with-libevent=/usr/local/libevent/make &amp;&amp; make install启动memcached :/usr/local/memcached/bin/memcached -d -m 100 -u root -l 127.0.0.1 -p 11211 -c 256 -P /tmp/memcached.pid 安装mcrypt tar zvxf mcrypt-2.6.8.tar.gzcd mcrypt-2.6.8./configure报错：configure: error: * libmcrypt was not found （其实我已经安装了libmcrypt）解决：export LD_LIBRARY_PATH=/usr/local/lib: LD_LIBRARY_PATH./configuremake &amp;&amp; make install 安装php7 tar zvxf php-7.0.14.tar.gzcd php-7.0.14./configure –prefix=/usr/local/php –with-config-file-path=/usr/local/php/etc –enable-fpm –enable-pcntl –enable-mysqlnd –enable-opcache –enable-sockets –enable-sysvmsg –enable-sysvsem –enable-sysvshm –enable-shmop –enable-zip –enable-ftp –enable-soap –enable-xml –enable-mbstring –disable-rpath –disable-debug –disable-fileinfo –with-mysqli –with-pdo-mysql –with-pcre-regex –with-iconv –with-zlib –with-mcrypt –with-gd –with-openssl –with-mhash –with-xmlrpc –with-curl –without-pear –enable-fileinfo –with-imap-sslmake &amp;&amp; make installcp ./php.ini-development /usr/local/php/etc/php.inicp /usr/local/php/etc/php-fpm.conf.default /usr/local/php/etc/php-fpm.confcp /usr/local/php/etc/php-fpm.d/www.conf.default /usr/local/php/etc/php-fpm.d/www.confcp -R ./sapi/fpm/php-fpm /etc/init.d/php-fpm 安装libmemcached tar zxvf libmemcached-1.0.18.tar.gzcd libmemcached-1.0.18./configure –prefix=/usr/local/libmemcached –with-memcachedmake &amp;&amp; make install 安装php-memcached扩展 tar xvzf php-memcached-master.tar.gzcd php-memcached-master/usr/local/php/bin/phpize./configure –enable-memcached –with-php-config=/usr/local/php/bin/php-config –with-libmemcached-dir=/usr/local/libmemcached –disable-memcached-saslmake &amp;&amp; make install查看是否安装成功/usr/local/php/bin/php -m 测试php-memcached扩展 vi /usr/local/php/etc/php.ini添加：extension=memcached.so wq!启动fpm:/usr/local/php/sbin/php-fpm -R验证：ps -ef | grep ‘fpm’启动memcached:/usr/local/memcached/bin/memcached -d -m 100 -u root -l 127.0.0.1 -p 11211 -c 256 -P /tmp/memcached.pid验证：ps -ef | grep ‘memcached’验证是否连接成功vi /tmp/memcached.php输入：12345678910111213&lt;?php $m = new Memcached(); $m-&gt;addServer('127.0.0.1', 11211); $m-&gt;set('int', 99); $m-&gt;set('string', 'a simple string'); $m-&gt;set('array', array(11, 12)); $m-&gt;set('object', new stdclass, time() + 300); var_dump($m-&gt;get('int')); var_dump($m-&gt;get('string')); var_dump($m-&gt;get('array')); var_dump($m-&gt;get('object'));?&gt; wq!cd /tmp执行：/usr/local/php/bin/php memcached.php 打印成功即可 测试php-mysql扩展 vi /tmp/mysql.php1234567&lt;?php $pdo = new PDO(\"mysql:host=hostname;dbname=databasename\",\"root\",\"\"); $rs = $pdo -&gt; query(\"select * from test\"); while($row = $rs -&gt; fetch())&#123; print_r($row); &#125;?&gt; wq!cd /tmp执行：/usr/local/php/bin/php mysql.php 打印成功即可 安装php-redis扩展 tar xvf phpredis-develop.tar.gzcd phpredis-develop/usr/local/php/bin/phpize./configure –with-php-config=/usr/local/php/bin/php-configmake &amp;&amp; make installvi /usr/local/php/etc/php.ini输入：extension=redis.sowq!查看是否安装成功/usr/local/php/bin/php -m 安装m9php-php7扩展 tar -zxvf m9php-php7.tar.gzcd m9php/m9php/usr/local/php/bin/phpize./configure –with-php-config=/usr/local/php/bin/php-configmake &amp;&amp; make installvi /usr/local/php/etc/php.ini输入：extension=m9php.sowq!查看是否安装成功/usr/local/php/bin/php -m","categories":[],"tags":[{"name":"php","slug":"php","permalink":"http://grooes.com/tags/php/"},{"name":"linux","slug":"linux","permalink":"http://grooes.com/tags/linux/"}]}]}